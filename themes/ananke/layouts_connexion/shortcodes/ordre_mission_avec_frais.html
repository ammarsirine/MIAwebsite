<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <script src="https://smtpjs.com/v3/smtp.js"></script>
    <script>
    function validateForm()
{
    var nom = document.forms["myForm"]["inputname"];
    var prenom = document.forms["myForm"]["inputprenom"];
    var email = document.forms["myForm"]["inputemail"];
    var Date_départ = document.forms["myForm"]["inputDate_départ"];
    var Date_retour = document.forms["myForm"]["inputDate_retour"];
    var Estimation_frais = document.forms["myForm"]["inputestimation_frais"];
    if (nom.value == "")
    {
        document.getElementById('errorname').innerHTML="Veuillez entrez un nom";
        nom.focus();
        return false;
    }else{
        document.getElementById('errorname').innerHTML="";
    }
    if (prenom.value == "")
    {
        document.getElementById('errorprenom').innerHTML="Veuillez entrez un prénom";
        prenom.focus();
        return false;
    }else{
        document.getElementById('errorprenom').innerHTML="";
    }

    if (email.value == "")
    {
        document.getElementById('erroremail').innerHTML="Veuillez entrez une adresse mail valide";
        email.focus();
        return false;
    }else{
        document.getElementById('erroremail').innerHTML="";
    }

    if (email.value.indexOf("@", 0) < 0)
    {
        document.getElementById('erroremail').innerHTML="Veuillez entrez une adresse mail valide";
        email.focus();
        return false;
    }

    if (email.value.indexOf(".", 0) < 0)
    {
        document.getElementById('erroremail').innerHTML="Veuillez entrez une adresse mail valide";
        email.focus();
        return false;
    }


if (Date_départ.value == "")
{
    document.getElementById('errorDate_départ').innerHTML="Veuillez entrez la date de départ";
    Date_départ.focus();
    return false;

}
if (Date_retour.value == "")
{
    document.getElementById('errorDate_retour').innerHTML="Veuillez entrez la date de retour ";
    Date_retour.focus();
    return false;

}
if (Estimation_frais.value == "")
{
    document.getElementById('errorestimation_frais').innerHTML="Veuillez entrez le total estimé des frais";
    Estimation_frais.focus();
    return false;

}

Email.send({

    // Host : "smtp.gmail.com",
    // Username : "roselyne.angeville@univ-lr.fr",
    // Password : "mot de passe",
    // To : "roselyne.angeville@univ-lr.fr",
    // From : "roselyne.angeville@univ-lr.fr",

    Host : "smtp.gmail.com",
    sername : "laboratoiremia@gmail.com",
    Password : "laboratoiremia",
    To : "laboratoiremia@gmail.com",
    Username : "laboratoiremia@gmail.com",
    From : "laboratoiremia@gmail.com",


    Subject : document.getElementById("inputname").value,
    Body : "<h1>" +"Nom :" + document.getElementById("inputname").value +"</h1><h1>"+
    "<h1>" +"Prénom :" + document.getElementById("inputprenom").value  +"</h1><h1>"+
    "<h1>" +"Email :" + document.getElementById("inputemail").value  +"</h1><h1>"+
    "<h1>" +"Motif et description du déplacement :" + document.getElementById("inputmotif").value  +"</h1><h1>"+
    "<h1>" +"Date de départ :" + document.getElementById("inputDate_départ").value  +"</h1><h1>"+
    "<h1>" +"Date de retour :" + document.getElementById("inputDate_retour").value  +"</h1><h1>"+
    "<h1>" +"Heure de départ :" + document.getElementById("inputHeure_départ").value  +"</h1><h1>"+
    "<h1>" +"Heure de retour :" + document.getElementById("inputHeure_retour").value  +"</h1><h1>"+
    "<h1>" +"Moyen de locomotion 1 :" + document.getElementById("moyen-select").value  +"</h1><h1>"+
    "<h1>" +"Cout de moyen de locomotion 1 :" + document.getElementById("inputcout1").value  +"</h1><h1>"+
      "<h1>" +"Cout de moyen de locomotion 2 :" + document.getElementById("inputcout2").value  +"</h1><h1>"+
     "<h1>" +"Si voiture personnel :"+ document.getElementById("inputvoiture").value  +"</h1><h1>"+
     "<h1>" +"Si autre moyen de locomotion  :"+ document.getElementById("inputautre_moyen").value  +"</h1><h1>"+
      "<h1>" +"Inscription conférence ou colloque :"+ document.getElementById("inputInscription").value +"</h1><h1>"+
     "<h1>" +"Nombre de nuit d'hôtel (en France)  :"+ document.getElementById("inputnombre_nuit").value +"</h1><h1>"+
    "<h1>" + "Nombre de repas :"+ document.getElementById("inputnombre_repas").value +"</h1><h1>"+
    "<h1>" + "Estimation hébergement et repas (à l'étranger)  :"+ document.getElementById("inputestimation_hébegement").value +"</h1><h1>"+
     "<h1>" +"Autres dépenses à prévoir (tickets péage, taxi, etc?) :"+ document.getElementById("inputautre_dépenses").value +"</h1><h1>"+
     "<h1>" +"Total estimé des frais :"+ document.getElementById("inputestimation_frais").value,
}).then(
    message => alert(message)
);

}
</script>
<form name="myForm" method="post">
  <p>Pour pouvoir établir et estimer cette mission, j’ai besoin des renseignements ci-dessous :</p>
  <span> Votre Nom <span style="color: red;">*</span></span>
 <input id ="inputname" type="text"  />
 <span class="error" id="errorname"></span>
  <br><br>
  <label>Votre Prénom <span style="color: red;">*</span></label>
    <input id ="inputprenom" type="text"  />
    <span class="error" id="errorprenom"></span>
  <br> <br>
  <label>Votre Email <span style="color: red;">*</span></label>
    <input  id="inputemail" type="text"  />
    <span class="error" id="erroremail"></span>
      <br><br>
      <label>Motif et description du déplacement</label>
        <textarea  type="text" id="inputmotif" placeholder="Motif précis (joindre justificatif ou adresse page web)"></textarea>
        <br> <br>
         Date de départ <span style="color: red;">*</span>
          <input type="date"   id="inputDate_départ" />
          <span class="error" id="errorDate_départ"></span>
        <br> <br>
Date de retour <span style="color: red;">*</span>
 <input type="date" id="inputDate_retour" >
 <span class="error" id="errorDate_retour"></span>
<br> <br>
  <label> Heure de départ </label>
   <input  id="inputHeure_départ" type="text" />
<br> <br>
  <label>Heure de retour</label>
<input  id="inputHeure_retour" type="text" />
<br> <br>
  <label>Moyen de locomotion 1</label>
  <select  id="moyen-select">
    <option value="Véhicule personnel">Véhicule personnel</option>
    <option value="SNCF">SNCF</option>
    <option value="AVION">AVION</option>
    <option value="Location">Location véhicule</option>
    <option value="Autre">Autre (préciser)</option>
</select>
  <br> <br>
  <label>Cout de moyen de locomotion 1</label>
  <input  id="inputcout1" type="text" />
  <br> <br>
  <label>Cout de moyen de locomotion 2</label>
  <input id="inputcout2" type="text" />
    <br> <br>
  <label>Si voiture personnel</label>
  <textarea id="inputvoiture"  placeholder = "préciser lequel ? si nouveau véhicule joindre carte grise + attestation assurance" aria-labelledby=”message”></textarea>
 <br><br>
 <label>Si autre moyen de locomotion </label>
 <input  id="inputautre_moyen"  placeholder = "Précisez lequel" type="text" />
   <br> <br>
   <label>Inscription conférence ou colloque </label>
   <input id="inputInscription" placeholder = "Montant en euros" type="text" />
     <br> <br>
     <label>Nombre de nuit d'hôtel (en France) </label>
     <input  id="inputnombre_nuit" type="text" />
       <br> <br>
       <label>Nombre de repas </label>
       <input id="inputnombre_repas" type="text" />
         <br> <br>
         <label>Estimation hébergement et repas (à l'étranger) </label>
         <input id="inputestimation_hébegement" placeholder="Montant en euros" type="text" />
             <br> <br>
             <label>Autres dépenses à prévoir (tickets péage, taxi, etc?) </label>
             <textarea id="inputautre_dépenses" type="message"></textarea>
               <br> <br>
               <label>Total estimé des frais <span style="color: red;">*</span> </label>
               <textarea id="inputestimation_frais" placeholder="Rentrez le total estimé des frais de votre déplacement" type="text" ></textarea>
              <span class="error" id="errorestimation_frais"></span>
                 <br> <br>
  Remarque:
  <br><br>
  Si vous avez des documents à me transmettre, envoyez-les moi par email (format pdf de préference)
  <br><br>
  <button type="button" class="btn btn-primary" onClick="validateForm()"> Envoyer</button>
    <button type="reset" class="btn btn-primary" > Remise à zéro</button>
</form>
<style>
  .error{
    color: #D8000C;
    background-color: #FFBABA;
  }

</style>
