<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <script src="https://smtpjs.com/v3/smtp.js"></script>
    <script>
    function validateForm()
{



    var nom = document.forms["myForm"]["inputname"];
    var prenom = document.forms["myForm"]["inputprenom"];
    var email = document.forms["myForm"]["inputemail"];
    var Date_départ = document.forms["myForm"]["inputDate_départ"];
    var Date_retour = document.forms["myForm"]["inputDate_retour"];
    var email1 = document.forms["myForm"]["inputuser_mail"];

    if (nom.value == "")
    {
        document.getElementById('errorname').innerHTML="Veuillez entrez un nom";
        nom.focus();
        return false;
    }else{
        document.getElementById('errorname').innerHTML="";
    }
    if (prenom.value == "")
    {
        document.getElementById('errorprenom').innerHTML="Veuillez entrez un prénom";
        prenom.focus();
        return false;
    }else{
        document.getElementById('errorprenom').innerHTML="";
    }

    if (email.value == "")
    {
        document.getElementById('erroremail').innerHTML="Veuillez entrez une adresse mail valide";
        email.focus();
        return false;
    }else{
        document.getElementById('erroremail').innerHTML="";
    }

    if (email.value.indexOf("@", 0) < 0)
    {
        document.getElementById('erroremail').innerHTML="Veuillez entrez une adresse mail valide";
        email.focus();
        return false;
    }

    if (email.value.indexOf(".", 0) < 0)
    {
        document.getElementById('erroremail').innerHTML="Veuillez entrez une adresse mail valide";
        email.focus();
        return false;
    }





if (Date_départ.value == "")
{
    document.getElementById('errorDate_départ').innerHTML="Veuillez entrez la date de départ";
    Date_départ.focus();
    return false;
}
if (Date_retour.value == "")
{
    document.getElementById('errorDate_retour').innerHTML="Veuillez entrez la date de retour ";
    Date_retour.focus();
    return false;

}
if (email1.value.indexOf("@", 0) < 0)
{
    document.getElementById('erroremail').innerHTML="Veuillez entrez une adresse mail valide";
    email1.focus();
    return false;
}

if (email1.value.indexOf(".", 0) < 0)
{
    document.getElementById('erroremail').innerHTML="Veuillez entrez une adresse mail valide";
    email1.focus();
    return false;
}
if (email1.value == "")
{
    document.getElementById('erroremail').innerHTML="Veuillez entrez une adresse mail valide";
    email1.focus();
    return false;
}else{
    document.getElementById('erroremail').innerHTML="";
}
Email.send({

    // Host : "smtp.gmail.com",
    // Username : "roselyne.angeville@univ-lr.fr",
    // Password : "mot de passe",
    // To : "roselyne.angeville@univ-lr.fr",
    // From : "roselyne.angeville@univ-lr.fr",

    Host : "smtp.gmail.com",
    sername : "laboratoiremia@gmail.com",
    Password : "laboratoiremia",
    To : "laboratoiremia@gmail.com",
    Username : "laboratoiremia@gmail.com",
    From : "laboratoiremia@gmail.com",


    Subject : document.getElementById("inputname").value,
    Body : "<h1>" + "Nom :" + document.getElementById("inputname").value+"</h1><h1>"+
    "<h1>" + "Prénom :" + document.getElementById("inputprenom").value +"</h1><h1>"+
    "<h1>" + "Email :" +  document.getElementById("inputemail").value +"</h1><h1>"+
    "<h1>" + "Statut :" +  document.getElementById("inputstatut").value +"</h1><h1>"+
    "<h1>" + "Résidence Administrative :" + document.getElementById("inputresidence").value +"</h1><h1>"+
    "<h1>" + "Date de départ :" + document.getElementById("inputDate_départ").value +"</h1><h1>"+
    "<h1>" + "Date de retour :" +  document.getElementById("inputDate_retour").value +"</h1><h1>"+
    "<h1>" + "Heure de départ :" +  document.getElementById("inputHeure_départ").value +"</h1><h1>"+
    "<h1>" + "Heure de retour :"  + document.getElementById("inputHeure_retour").value +"</h1><h1>"+
    "<h1>" + "Moyen de locomotion :" + document.getElementById("moyen-select").value +"</h1><h1>"+
    "<h1>" + "Motif :" + document.getElementById("input_motif").value +"</h1><h1>"+
      "<h1>" + "Si autre moyen de locomotion :" + document.getElementById("input_moyenlocomation").value+"</h1><h1>"+
    "<h1>" + "Nombre de repas :"+  document.getElementById("inputnombre_repas").value+"</h1><h1>"+
     "<h1>" + "Si voiture personnel :"+  document.getElementById("inputvoiture").value +"</h1><h1>"+
     "<h1>" + "Faut-il que je prévois la réservation d'hôtel?  :"+ document.getElementById("moyen-select1").value+"</h1><h1>"+
     "<h1>" + "Nombre de nuit d'hôtel :"+ document.getElementById("inputnombre_nuit").value+"</h1><h1>"+
     "<h1>" + "Autres dépenses à prévoir (tickets péage, taxi, etc?) :"+document.getElementById("inputautre_dépenses").value+"</h1><h1>"+
     "<h1>" + " Adresse Mail de la personne invitée :" +document.getElementById("inputuser_mail").value,
}).then(
    message => alert(message)
);

}
</script>
<form name="myForm" method="post">
  Pour pouvoir établir ce document, j’ai besoin des renseignements ci-dessous :
<br><br>
  <span> Votre Nom <span style="color: red;">*</span></span>
  <input  id ="inputname" type="text" />
  <span class="error" id="errorname"></span>
  <br><br>
  <label>Votre Prénom <span style="color: red;">*</span></label>
  <input id ="inputprenom" type="text"  />
    <span class="error" id="errorprenom"></span>
  <br><br>
  <label>Votre Email <span style="color: red;">*</span></label>
  <input type="text" id ="inputemail" />
  <span class="error" id="erroremail"></span>
  <br><br>
  <label>Statut </label>
  <input id ="inputstatut" type="text"  />
  <br> <br>
  <label>Résidence Administrative </label>
  <input id ="inputresidence" type="text" />
  <br> <br>
  Date de départ <span style="color: red;">*</span>
   <input type="date" id ="inputDate_départ"  />
     <span class="error" id="errorDate_départ"></span>
 <br> <br>
 Date de retour <span style="color: red;">*</span>
  <input type="date" id="inputDate_retour" />
   <span class="error" id="errorDate_retour"></span>
 <br> <br>
 <label> Heure de départ </label>
  <input id ="inputHeure_départ" type="text" />
<br> <br>
 <label>Heure de retour</label>
<input  id ="inputHeure_retour" type="text" /> <br> <br>
  <label>Moyen de locomotion <br> (estimation dépense)</label>
  <select id="moyen-select">
    <option value="Véhicule personnel">Véhicule personnel</option>
    <option value="SNCF">SNCF</option>
    <option value="AVION">AVION</option>
    <option value="Location">Location véhicule</option>
    <option value="Autre">Autre (préciser)</option>
</select>
  <br> <br>
  <label>Motif</label>
  <textarea id="input_motif" placeholder= "Motif précis (joindre justificatif ou adresse page web)" aria-labelledby=”message”></textarea>
  <br> <br>
  <label>Si autre moyen de locomotion</label>
  <input  id="input_moyenlocomation" placeholder="Précisez lequel" type="text" />
  <br> <br>
  <label>Nombre de repas </label>
  <input id="inputnombre_repas"  type="text" />
  <br> <br>
  <label>Si voiture personnel</label>
  <textarea id="inputvoiture" placeholder = "préciser lequel ? si nouveau véhicule joindre carte grise+attestation assurance" aria-labelledby=”message”></textarea>
  <br> <br>
  <label>Faut-il que je prévois la réservation d'hôtel?</label>
  <select  id="moyen-select1">
    <option value="Non">Non</option>
    <option value="Oui">Oui</option>
  </select>
  <br> <br>
  <label>Nombre de nuit d'hôtel </label>
  <input  id ="inputnombre_nuit" type="text" />
  <br><br>
  <label>Autres dépenses à prévoir (tickets péage, taxi, etc?)</label>
  <textarea  id="inputautre_dépenses" placeholder= "Motif précis (joindre justificatif ou adresse page web)" aria-labelledby=”message”></textarea>
  <br> <br>
  <label>Adresse Mail de la personne invitée </label>
  <input   type="email" id="inputuser_mail" placeholder="Rentrez ici l'adresse Mail de la personne invitée (pour pouvoir la contacter au besoin)" /><br> <br>
  Remarque:
  <br><br>
  Si vous avez des documents à me transmettre, envoyez-les moi par email (format pdf de préference)
  <br>
  <br>
  <button type="button" class="btn btn-primary" onClick="validateForm()"> Envoyer</button>
    <button type="reset" class="btn btn-primary" > Remise à zéro</button>
<style>
  .error{
    color: #D8000C;
    background-color: #FFBABA;
  }


</style>
